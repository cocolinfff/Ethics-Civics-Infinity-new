

spawn_god_habitat = {
    spawn_planet = {
        class = "pc_habitat"
        location = event_target:spawn_god_ship_planet
        orbit_location = yes
        orbit_angle_offset = 45
        orbit_distance_offset = 9.899
        size = 10
        has_ring = no

        init_effect = {
            set_name = "NAME_Payback_Warship_GOD"
            set_planet_entity = {
                entity = "fc_01_evil_slaver_hab_entity"
            }
            set_surveyed = {
                surveyed = yes
                surveyor = FROM
            }
            set_all_comms_surveyed = yes
            clear_blockers = yes

            set_planet_flag = megastructure
            set_planet_flag = habitat
            set_planet_flag = advanced_habitat
            set_planet_flag = advanced_habitat_2
            set_planet_flag = payback_habitat
            set_planet_flag = research_habitat
        }
    }
}

spawn_advanced_start_habitat = {
    spawn_planet = {
        class = "pc_habitat"
        location = event_target:advanced_start_home_planet
        orbit_location = yes
        orbit_angle_offset = 135
        orbit_distance_offset = 9.899
        size = 6
        has_ring = no

        init_effect = {
            set_name = {
                key = HABITAT_PLANET_NAME
                variable_string = "\\[FROM.from.solar_system.GetName]"
            }
            set_planet_entity = {
                entity = "habitat_phase_03_entity"
                graphical_culture = fromfrom
            }
            set_surveyed = {
                surveyed = yes
                surveyor = FROM
            }
            set_all_comms_surveyed = yes
            clear_blockers = yes

            set_planet_flag = megastructure
            set_planet_flag = habitat
            set_planet_flag = habitat_level_1
            save_event_target_as = target_habitat

            event_target:target_planet = {
                set_planet_flag = habitat@PREV
            }
        }
    }
}