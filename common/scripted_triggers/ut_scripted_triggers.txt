### region CIVIC CHECK
# 是共产主义社会
is_community_society = {
	has_valid_civic = civic_shared_burden
	has_ascension_perk = ap_future_society
}

# 是科学社会主义
is_scientific_socialism = {
	OR = {
		has_valid_civic = civic_shared_burden
		has_valid_civic = civic_socialistic
		AND = {
			has_valid_civic = civic_forever_with_us
			has_ethic = ethic_fanatic_socialism
		}
	}
}

# 是未变质的科学社会主义（完成革命传统后可以使用银河革命战争理由）
is_true_scientific_socialism = {
	OR = {
		has_valid_civic = civic_shared_burden
		has_valid_civic = civic_socialistic
		AND = {
			has_valid_civic = civic_forever_with_us
			has_ethic = ethic_fanatic_socialism
		}
	}
	NOR = {
		has_ethic = ethic_authoritarian
		has_ethic = ethic_fanatic_authoritarian
		has_ethic = ethic_xenophobe
		has_ethic = ethic_fanatic_xenophobe
		has_country_flag = not_revolution
		has_policy_flag = reform_and_opening_up
	}
}

# 是剥削者
is_exploiter = {
	OR = {
		has_ethic = ethic_capitalism
		has_ethic = ethic_fanatic_capitalism
		has_ethic = ethic_authoritarian
		has_ethic = ethic_fanatic_authoritarian
		has_ethic = ethic_fanatic_xenophobe
		has_authority = auth_imperial
		has_civic = civic_machine_financial_investment
	}
}

# 是修正主义
is_revisionism = {
	OR = {
		AND = {
			OR = {
				has_ethic = ethic_socialism
				has_ethic = ethic_fanatic_socialism
			}
			OR = {
				has_ethic = ethic_authoritarian
				has_ethic = ethic_fanatic_authoritarian
				has_ethic = ethic_xenophobe
				has_ethic = ethic_fanatic_xenophobe
			}
		}
		has_civic = civic_characteristic_socialism
		has_civic = civic_characteristic_socialism_pioneer
		has_country_flag = not_revolution
		has_policy_flag = reform_and_opening_up
	}
}

# 拥有道德主义主题理念
has_pacifist_topic_civic = {
	OR = {
		has_valid_civic = civic_executive_committee
		has_valid_civic = civic_peaceful_republic
	}
}

# 是罪企
is_criminal_syndicate = {
	OR = {
		has_valid_civic = civic_criminal_heritage
		has_valid_civic = civic_underworld_society
	}
}
### endregion

### region JOB CHECK
# 未被奴役（兼容特殊国策）
ethic_is_not_enslaved = {
	OR = {
		is_enslaved = no
		exists = owner
		owner = { has_valid_civic = civic_du_contrat_social }
	}
}

# 可以担任艺人职业（兼容特殊国策）
ethic_entertainer_job_check_trigger = {
	OR = {
		entertainer_job_check_trigger = yes
		AND = {
			exists = owner
			owner = { has_valid_civic = civic_triple_the_profit }
		}
		AND = {
			exists = owner
			owner = { has_valid_civic = civic_du_contrat_social }
		}
	}
}

# 可以担任战斗职业（兼容特殊国策）
ethic_battle_thrall_job_check_trigger = {
	OR = {
		battle_thrall_job_check_trigger = yes
		exists = owner
		owner = { has_valid_civic = civic_du_contrat_social }
	}
}

is_crisis_purged_ruler_check = {
	exists = planet
	exists = planet.controller
	planet.controller = {
		OR = {
			is_country_type = swarm
			is_country_type = ai_empire
		}
	}
	OR = {
		# contingency won't purge itself
		NOT = { exists = event_target:custodian_bot }
		AND = {
			exists = event_target:custodian_bot
			NOT = { species = { is_same_value = event_target:custodian_bot } }
		}
	}
}

is_crisis_purged_precursor_check = {
	exists = planet
	exists = planet.controller
	planet.controller = {
		OR = {
			is_country_type = swarm
			is_country_type = ai_empire
		}
	}
}

### endregion

### region DISTRICT CHECK
has_any_generator_district_or_building = {
	OR = {
		has_district = district_generator
		has_district = district_hab_energy
		has_district = district_generator_uncapped
		has_district = district_rw_generator
		has_building = building_betharian_power_plant
		# PD
		has_district = district_pdhab_energy
	}
}

has_any_mining_district = {
	OR = {
		has_district = district_mining
		has_district = district_hab_mining
		has_district = district_mining_uncapped
		# PD
		has_district = district_pdhab_mining
	}
}

has_any_farming_district_or_buildings = {
	OR = {
		has_district = district_farming
		has_district = district_rw_farming
		has_district = district_farming_uncapped
		has_building = building_hydroponics_farm
		# PD
		has_district = district_pdhab_food
	}
}

has_any_arms_industry_district = {
	OR = {
		has_district = district_industrial
		has_district = district_hab_industrial
		has_district = district_rw_industrial
		has_district = district_arcology_arms_industry
		# PD
		has_district = district_pdhab_industrial
	}
}

has_any_civilian_industry_district = {
	OR = {
		has_district = district_industrial
		has_district = district_arcology_civilian_industry
		has_district = district_rw_industrial
		has_district = district_hab_industrial
		has_district = district_pdhab_industrial
	}
}

has_any_arms_industry_designation = {
	OR = {
		has_designation = col_foundry
		has_designation = col_habitat_foundry
		has_designation = col_ring_foundry
		has_designation = col_ecu_foundry
		has_designation = col_dome_foundry
	}
}

has_any_civilian_industry_designation = {
	OR = {
		has_designation = col_factory
		has_designation = col_habitat_factory
		has_designation = col_ring_factory
		has_designation = col_ecu_factory
		has_designation = col_dome_factory
	}
}
### endregion