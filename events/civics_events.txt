
# 荣誉评委
namespace = honorary_curator
event = {
    id = honorary_curator.0
    hide_window = yes
    is_triggered_only = yes

    immediate = {
        every_country = {
            if = {
                limit = {
                    has_valid_civic = civic_honorary_curator
                }
                country_event = { id = honorary_curator.1 days = -1 }
                every_neighbor_country = {
                    limit = {
                        NOT = { has_ethic = ethic_gestalt_consciousness }
                        NOT = { has_country_flag = honorary_curator }
                    }
                    set_country_flag = honorary_curator
                    add_modifier = {
                        modifier = "honorary_curator"
                        days = 720
                    }
                }
            }
            if = {
                limit = {
                    has_valid_civic = civic_corporate_honorary_curator
                }
                country_event = { id = honorary_curator.3 days = 1 }
                every_neighbor_country = {
                    limit = {
                        NOT = { has_ethic = ethic_gestalt_consciousness }
                        NOT = { has_country_flag = corporate_honorary_curator }
                    }
                    set_country_flag = corporate_honorary_curator
                    add_modifier = {
                        modifier = "corporate_honorary_curator"
                        days = 720
                    }
                }
            }
        }
    }
}
country_event = {
    id = honorary_curator.1
    hide_window = yes
    is_triggered_only = yes

    trigger = {
        has_valid_civic = civic_honorary_curator
    }

    immediate = {
        every_neighbor_country = {
            limit = {
                NOT = {
                    has_ethic = ethic_gestalt_consciousness
                }
            }
            if = {
                limit = {
                    NOT = { has_country_flag = honorary_curator }
                }
                set_country_flag = honorary_curator
                add_modifier = {
                    modifier = "honorary_curator"
                    days = 360
                }
            }
            if = {
                limit = {
                    has_country_flag = honorary_curator
                    NOT = { has_modifier = honorary_curator }
                }
                remove_country_flag = honorary_curator
                add_modifier = {
                    modifier = "honorary_curator"
                    days = 360
                }
            }
        }
    }
}
country_event = {
    id = honorary_curator.2
    hide_window = yes
    is_triggered_only = yes

    trigger = {
        has_valid_civic = civic_honorary_curator
    }

    immediate = {
        every_neighbor_country = {
            limit = {
                NOT = {
                    has_ethic = ethic_gestalt_consciousness
                }
            }
            if = {
                limit = {
                    has_country_flag = honorary_curator
                    has_modifier = honorary_curator
                }
                remove_country_flag = honorary_curator
            }
        }
    }
}
# 银河展销会
country_event = {
    id = honorary_curator.3
    hide_window = yes
    is_triggered_only = yes

    trigger = {
        has_valid_civic = civic_corporate_honorary_curator
    }

    immediate = {
        every_neighbor_country = {
            limit = {
                NOT = {
                    has_ethic = ethic_gestalt_consciousness
                }
            }
            if = {
                limit = {
                    NOT = { has_country_flag = corporate_honorary_curator }
                }
                set_country_flag = corporate_honorary_curator
                add_modifier = {
                    modifier = "corporate_honorary_curator"
                    days = 360
                }
            }
            if = {
                limit = {
                    has_country_flag = corporate_honorary_curator
                    NOT = { has_modifier = corporate_honorary_curator }
                }
                remove_country_flag = corporate_honorary_curator
                add_modifier = {
                    modifier = "corporate_honorary_curator"
                    days = 360
                }
            }
        }
    }
}
country_event = {
    id = honorary_curator.4
    hide_window = yes
    is_triggered_only = yes

    trigger = {
        has_valid_civic = civic_corporate_honorary_curator
    }

    immediate = {
        every_neighbor_country = {
            limit = {
                NOT = {
                    has_ethic = ethic_gestalt_consciousness
                }
            }
            if = {
                limit = {
                    has_country_flag = corporate_honorary_curator
                    has_modifier = corporate_honorary_curator
                }
                remove_country_flag = corporate_honorary_curator
            }
        }
    }
}

# 后发先至
namespace = ethic_civic_procrastination
country_event = {
    id = ethic_civic_procrastination.0
    hide_window = yes
    is_triggered_only = yes
    trigger = { has_civic = civic_procrastination }
    immediate = {
        if = {
            limit = {
                NOR = {
                    has_origin = origin_advanced_start
                    has_origin = origin_true_yuht
                }
            }
            country_event = { id = ethic_civic_procrastination.1 days = 7200 }
        }
        if = {
            limit = {
                OR = {
                    has_origin = origin_advanced_start
                    has_origin = origin_true_yuht
                }
            }
            country_event = { id = ethic_civic_procrastination.1 }
        }
    }
}
country_event = {
    id = ethic_civic_procrastination.1
    title = "ethic_civic_procrastination.name"
    desc = "ethic_civic_procrastination.desc"
    picture = GFX_evt_arguing_senate
    is_triggered_only = yes

    option = {
        name = "ethic_civic_procrastination.a"
        add_modifier = {
            modifier = ethic_civic_procrastination_1
            days = -1
        }
        force_remove_civic = civic_procrastination
        set_government_cooldown = no
    }

    option = {
        name = "ethic_civic_procrastination.b"
        custom_tooltip = ethic_civic_procrastination_effects
        hidden_effect = { country_event = { id = ethic_civic_procrastination.2 days = 7200 } }
    }
}
country_event = {
    id = ethic_civic_procrastination.2
    title = "ethic_civic_procrastination.name"
    desc = "ethic_civic_procrastination.desc"
    picture = GFX_evt_arguing_senate
    is_triggered_only = yes

    option = {
        name = "ethic_civic_procrastination.a"
        add_modifier = {
            modifier = ethic_civic_procrastination_2
            days = -1
        }
        force_remove_civic = civic_procrastination
        set_government_cooldown = no
    }

    option = {
        name = "ethic_civic_procrastination.b"
        custom_tooltip = ethic_civic_procrastination_effects
        hidden_effect = { country_event = { id = ethic_civic_procrastination.3 days = 7200 } }
    }
}
country_event = {
    id = ethic_civic_procrastination.3
    title = "ethic_civic_procrastination.name"
    desc = "ethic_civic_procrastination.desc"
    picture = GFX_evt_arguing_senate
    is_triggered_only = yes

    option = {
        name = "ethic_civic_procrastination.a"
        add_modifier = {
            modifier = ethic_civic_procrastination_3
            days = -1
        }
        force_remove_civic = civic_procrastination
        set_government_cooldown = no
    }

    option = {
        name = "ethic_civic_procrastination.b"
        custom_tooltip = ethic_civic_procrastination_effects
        hidden_effect = { country_event = { id = ethic_civic_procrastination.4 days = 7200 } }
    }
}
country_event = {
    id = ethic_civic_procrastination.4
    title = "ethic_civic_procrastination.name"
    desc = "ethic_civic_procrastination.desc"
    picture = GFX_evt_arguing_senate
    is_triggered_only = yes

    option = {
        name = "ethic_civic_procrastination.a"
        add_modifier = {
            modifier = ethic_civic_procrastination_4
            days = -1
        }
        force_remove_civic = civic_procrastination
        set_government_cooldown = no
    }

    option = {
        name = "ethic_civic_procrastination.b"
        custom_tooltip = ethic_civic_procrastination_effects
        hidden_effect = { country_event = { id = ethic_civic_procrastination.5 days = 7200 } }
    }
}
country_event = {
    id = ethic_civic_procrastination.5
    title = "ethic_civic_procrastination.name"
    desc = "ethic_civic_procrastination.desc"
    picture = GFX_evt_arguing_senate
    is_triggered_only = yes

    option = {
        name = "ethic_civic_procrastination.a"
        add_modifier = {
            modifier = ethic_civic_procrastination_5
            days = -1
        }
        force_remove_civic = civic_procrastination
        set_government_cooldown = no
    }

    option = {
        name = "ethic_civic_procrastination.b"
        custom_tooltip = ethic_civic_procrastination_effects
        hidden_effect = { country_event = { id = ethic_civic_procrastination.6 days = 7200 } }
    }
}
country_event = {
    id = ethic_civic_procrastination.6
    title = "ethic_civic_procrastination.name"
    desc = "ethic_civic_procrastination.desc"
    picture = GFX_evt_arguing_senate
    is_triggered_only = yes

    option = {
        name = "ethic_civic_procrastination.a"
        add_modifier = {
            modifier = ethic_civic_procrastination_6
            days = -1
        }
        force_remove_civic = civic_procrastination
        set_government_cooldown = no
    }

    option = {
        name = "ethic_civic_procrastination.b"
        custom_tooltip = ethic_civic_procrastination_effects
        hidden_effect = { country_event = { id = ethic_civic_procrastination.7 days = 7200 } }
    }
}
country_event = {
    id = ethic_civic_procrastination.7
    title = "ethic_civic_procrastination.name"
    desc = "ethic_civic_procrastination.desc"
    picture = GFX_evt_arguing_senate
    is_triggered_only = yes

    option = {
        name = "ethic_civic_procrastination.a"
        add_modifier = {
            modifier = ethic_civic_procrastination_7
            days = -1
        }
        force_remove_civic = civic_procrastination
        set_government_cooldown = no
    }

    option = {
        name = "ethic_civic_procrastination.b"
        custom_tooltip = ethic_civic_procrastination_effects
        hidden_effect = { country_event = { id = ethic_civic_procrastination.8 days = 7200 } }
    }
}
country_event = {
    id = ethic_civic_procrastination.8
    title = "ethic_civic_procrastination.name"
    desc = "ethic_civic_procrastination.desc"
    picture = GFX_evt_arguing_senate
    is_triggered_only = yes

    option = {
        name = "ethic_civic_procrastination.a"
        add_modifier = {
            modifier = ethic_civic_procrastination_8
            days = -1
        }
        force_remove_civic = civic_procrastination
        set_government_cooldown = no
    }

    option = {
        name = "ethic_civic_procrastination.b"
        custom_tooltip = ethic_civic_procrastination_effects
        hidden_effect = { country_event = { id = ethic_civic_procrastination.9 days = 7200 } }
    }
}
country_event = {
    id = ethic_civic_procrastination.9
    title = "ethic_civic_procrastination.name"
    desc = "ethic_civic_procrastination.desc"
    picture = GFX_evt_arguing_senate
    is_triggered_only = yes

    option = {
        name = "ethic_civic_procrastination.a"
        add_modifier = {
            modifier = ethic_civic_procrastination_9
            days = -1
        }
        force_remove_civic = civic_procrastination
        set_government_cooldown = no
    }

    option = {
        name = "ethic_civic_procrastination.b"
        custom_tooltip = ethic_civic_procrastination_effects
        hidden_effect = { country_event = { id = ethic_civic_procrastination.10 days = 7200 } }
    }
}
country_event = {
    id = ethic_civic_procrastination.10
    title = "ethic_civic_procrastination.name"
    desc = "ethic_civic_procrastination.desc"
    picture = GFX_evt_arguing_senate
    is_triggered_only = yes

    option = {
        name = "ethic_civic_procrastination.a"
        add_modifier = {
            modifier = ethic_civic_procrastination_10
            days = -1
        }
        force_remove_civic = civic_procrastination
        set_government_cooldown = no
    }
}

namespace = ethic_civic_zhaowen_dao
# 朝闻道
country_event = {
    id = ethic_civic_zhaowen_dao.0
    is_triggered_only = yes
    hide_window = yes

    trigger = {
        has_valid_civic = civic_zhaowen_dao
    }

    immediate = {
        country_event = { id = ethic_civic_zhaowen_dao.1 }

    }
}
country_event = {
    id = ethic_civic_zhaowen_dao.1
    is_triggered_only = yes
    desc = ethic_civic_zhaowen_dao.1.desc
    title = ethic_civic_zhaowen_dao.1.title
    immediate = {
        random_owned_leader = {
            limit = {
                leader_class = scientist
                NOR = {
                    has_leader_flag = renowned_leader
                    has_leader_flag = legendary_leader
                }
            }
            save_event_target_as = dedication_leader
        }
    }
    option = {
        name = ethic_civic_zhaowen_dao.1.a
        add_resource = {
            physics_research = 1000
            society_research = 1000
            engineering_research = 1000
            multiplier = event_target:dedication_leader.trigger:has_skill
        }
        event_target:dedication_leader = { kill_leader = { show_notification = no } }
    }
}
country_event = {
    id = ethic_civic_zhaowen_dao.2
    hide_window = yes
    is_triggered_only = yes

    trigger = {
        has_valid_civic = civic_zhaowen_dao
    }

    immediate = {
        random_list = {
            90 = {	}
            10 = {
                add_monthly_resource_mult = {
                    resource = unity
                    value = 12
                }
                random_owned_pop_group = {
                    limit = {
                        has_research_job = yes
                    }
                    while = {
                        count = 1
                        kill_single_pop = yes
                    }
                }
            }
        }
    }
}

# 战争领主
namespace = ethic_military_dictatorship
country_event = {
    id = ethic_military_dictatorship.1
    hide_window = yes
    is_triggered_only = yes

    trigger = {
        has_valid_civic = civic_military_dictatorship
        subjects > 0
    }

    immediate = {
        set_variable = { which = military_dictatorship_num_subjects value = trigger:subjects }
        subtract_variable = { which = military_dictatorship_num_subjects value = 1 }
        every_subject = {
            add_modifier = {
                modifier = military_dictatorship_subjects_effect
                multiplier = PREV.military_dictatorship_num_subjects
            }
        }
        clear_variable = military_dictatorship_num_subjects
    }
}
country_event = {
    id = ethic_military_dictatorship.2
    title = "ethic_military_dictatorship.2.title"
    desc = {
        trigger = {
            NOT = { country_has_situation = { SITUATION = building_super_battleships } }
        }
        text = "ethic_military_dictatorship.2.desc"
    }
    desc = {
        trigger = {
            country_has_situation = { SITUATION = building_super_battleships }
        }
        text = "ethic_military_dictatorship.2.beta.desc"
    }
    picture = GFX_evt_arguing_senate
    is_triggered_only = yes

    trigger = {
        has_valid_civic = civic_military_dictatorship
    }

    option = {
        name = "ethic_military_dictatorship.2.a"
        trigger = {
            NOT = { country_has_situation = { SITUATION = building_super_battleships } }
        }
        hidden_effect = {
            custom_tooltip = ethic_military_dictatorship.2.a_effects
            start_situation = {
                type = building_super_battleships
            }
        }
    }

    option = {
        name = "ethic_military_dictatorship.2.a.beta"
        trigger = {
            country_has_situation = { SITUATION = building_super_battleships }
        }
        add_monthly_resource_mult = {
            resource = unity
            value = -6
        }
        add_monthly_resource_mult = {
            resource = influence
            value = -2
        }
    }

    option = {
        name = "ethic_military_dictatorship.2.b"
        hidden_effect = {
            custom_tooltip = ethic_military_dictatorship.2.b_effects
            add_modifier = { modifier = military_dictatorship_modifier days = -1 }
            if = {
                limit = {
                    country_has_situation = { SITUATION = building_super_battleships }
                }
                random_situation = {
                    limit = {
                        is_situation_type = building_super_battleships
                    }
                    destroy_situation = this
                }
                create_fleet = {
                    name = random
                    effect = {
                        set_owner = root
                        set_name = {
                            key = NAME_Royal_Fleet
                            variable_string = "[Root.GetRulerName]"
                        }
                        create_ship = {
                            name = random
                            random_existing_design = juggernaut
                        }
                        set_location = root.capital_scope.star
                    }
                }
                last_created_fleet = {
                    every_owned_ship = {
                        set_name = {
                            key = NAME_Royal_Ship
                            variable_string = "[Root.GetRulerTitle]"
                            variable_string = "[Root.GetRulerName]"
                        }
                    }
                }
            }
        }
    }
}
country_event = {
    id = ethic_military_dictatorship.3
    hide_window = yes
    is_triggered_only = yes

    trigger = {
        has_valid_civic = civic_military_dictatorship
    }

    immediate = {
        start_situation = {
            type = building_super_battleships
        }
    }
}

# 圣灵议会
namespace = ethic_spiritual_democracy
country_event = {
    id = ethic_spiritual_democracy.1
    hide_window = yes
    is_triggered_only = yes

    trigger = {
        has_valid_civic = civic_spiritual_democracy
    }

    immediate = {
        every_owned_leader = {
            limit = { is_councilor = yes }
            add_trait_no_notify = random_common
        }
    }
}

# 哲人王
namespace = ethic_philosopher_king
country_event = {
    id = ethic_philosopher_king.1
    hide_window = yes
    is_triggered_only = yes

    trigger = {
        has_valid_civic = civic_philosopher_king
    }

    immediate = {
        every_owned_leader = {
            limit = { is_ruler = yes }
            if = {
                limit = {
                    leader_class = official
                }
                random_list = {
                    10 = { add_trait_no_notify = leader_trait_spymaster }
                    10 = { add_trait_no_notify = leader_trait_totalitarian }
                    10 = { add_trait_no_notify = leader_trait_educator }
                    10 = { add_trait_no_notify = leader_trait_master_bureaucrat }
                    10 = { add_trait_no_notify = leader_trait_master_diplomat }
                    10 = { add_trait_no_notify = leader_trait_supreme_organizer }
                }
            }
            if = {
                limit = {
                    leader_class = scientist
                }
                random_list = {
                    10 = { add_trait_no_notify = leader_trait_educator }
                    10 = { add_trait_no_notify = leader_trait_master_bureaucrat }
                    10 = { add_trait_no_notify = leader_trait_knowledge_for_the_masses }
                    10 = { add_trait_no_notify = leader_trait_brilliant_shipwright }
                }
            }
            if = {
                limit = {
                    leader_class = commander
                }
                random_list = {
                    10 = { add_trait_no_notify = leader_trait_military_overseer }
                    10 = { add_trait_no_notify = leader_trait_armorer }
                    10 = { add_trait_no_notify = leader_trait_maven_of_war }
                    20 = { add_trait_no_notify = leader_trait_peacekeeper }
                    10 = { add_trait_no_notify = leader_trait_bellicose }
                    10 = { add_trait_no_notify = leader_trait_educator }
                    10 = { add_trait_no_notify = leader_trait_master_bureaucrat }
                }
            }
            if = {
                limit = {
                    NOT = { has_trait = leader_trait_legendary_leader }
                    owner = { has_ascension_perk = ap_engineered_evolution }
                }
                random_list = {
                    10 = { add_trait_no_notify = leader_trait_the_genetic_luminary }
                    90 = {}
                }
            }
            if = {
                limit = {
                    NOT = { has_trait = leader_trait_legendary_leader }
                    owner = { has_ascension_perk = ap_the_flesh_is_weak }
                }
                random_list = {
                    10 = { add_trait_no_notify = leader_trait_the_cybernetic_luminary }
                    90 = {}
                }
            }
            if = {
                limit = {
                    NOT = { has_trait = leader_trait_legendary_leader }
                    owner = { has_ascension_perk = ap_synthetic_evolution }
                }
                random_list = {
                    10 = { add_trait_no_notify = leader_trait_the_synth_luminary }
                    90 = {}
                }
            }
            if = {
                limit = {
                    NOT = { has_trait = leader_trait_legendary_leader }
                    owner = { has_ascension_perk = ap_mind_over_matter }
                }
                random_list = {
                    10 = { add_trait_no_notify = leader_trait_the_psionic_luminary }
                    90 = {}
                }
            }
            if = {
                limit = {
                    NOR = {
                        has_trait = leader_trait_legendary_leader
                        has_trait = leader_trait_legendary_offspring
                    }
                }
                random_list = {
                    10 = {
                        add_trait_no_notify = leader_trait_legendary_offspring
                        if = {
                            limit = {
                                owner = {
                                    NOT = { has_country_flag = philosopher_king_legendary_offspring }
                                }
                            }
                            owner = { set_country_flag = philosopher_king_legendary_offspring }
                        }
                        modifier = {
                            add = 90
                            owner = { has_country_flag = philosopher_king_legendary_offspring }
                        }
                    }
                    90 = {
                        modifier = {
                            factor = 0
                            owner = {
                                NOT = { has_country_flag = philosopher_king_legendary_offspring }
                            }
                        }
                    }
                }
            }
        }
    }
}
country_event = {
    id = ethic_philosopher_king.2
    hide_window = yes
    is_triggered_only = yes

    trigger = {
        has_valid_civic = civic_philosopher_king
        FROM = { is_ruler = yes }
    }

    immediate = {
        from = {
            if = {
                limit = {
                    leader_class = official
                }
                random_list = {
                    10 = { add_trait_no_notify = leader_trait_spymaster }
                    10 = { add_trait_no_notify = leader_trait_totalitarian }
                    10 = { add_trait_no_notify = leader_trait_educator }
                    10 = { add_trait_no_notify = leader_trait_master_bureaucrat }
                    10 = { add_trait_no_notify = leader_trait_master_diplomat }
                    10 = { add_trait_no_notify = leader_trait_supreme_organizer }
                }
            }
            if = {
                limit = {
                    leader_class = scientist
                }
                random_list = {
                    10 = { add_trait_no_notify = leader_trait_educator }
                    10 = { add_trait_no_notify = leader_trait_master_bureaucrat }
                    10 = { add_trait_no_notify = leader_trait_knowledge_for_the_masses }
                    10 = { add_trait_no_notify = leader_trait_brilliant_shipwright }
                }
            }
            if = {
                limit = {
                    leader_class = commander
                }
                random_list = {
                    10 = { add_trait_no_notify = leader_trait_military_overseer }
                    10 = { add_trait_no_notify = leader_trait_armorer }
                    10 = { add_trait_no_notify = leader_trait_maven_of_war }
                    20 = { add_trait_no_notify = leader_trait_peacekeeper }
                    10 = { add_trait_no_notify = leader_trait_bellicose }
                    10 = { add_trait_no_notify = leader_trait_educator }
                    10 = { add_trait_no_notify = leader_trait_master_bureaucrat }
                }
            }
            if = {
                limit = {
                    NOT = { has_trait = leader_trait_legendary_leader }
                    owner = { has_ascension_perk = ap_engineered_evolution }
                }
                random_list = {
                    10 = { add_trait_no_notify = leader_trait_the_genetic_luminary }
                    90 = {}
                }
            }
            if = {
                limit = {
                    NOT = { has_trait = leader_trait_legendary_leader }
                    owner = { has_ascension_perk = ap_the_flesh_is_weak }
                }
                random_list = {
                    10 = { add_trait_no_notify = leader_trait_the_cybernetic_luminary }
                    90 = {}
                }
            }
            if = {
                limit = {
                    NOT = { has_trait = leader_trait_legendary_leader }
                    owner = { has_ascension_perk = ap_synthetic_evolution }
                }
                random_list = {
                    10 = { add_trait_no_notify = leader_trait_the_synth_luminary }
                    90 = {}
                }
            }
            if = {
                limit = {
                    NOT = { has_trait = leader_trait_legendary_leader }
                    owner = { has_ascension_perk = ap_mind_over_matter }
                }
                random_list = {
                    10 = { add_trait_no_notify = leader_trait_the_psionic_luminary }
                    90 = {}
                }
            }
            if = {
                limit = {
                    NOR = {
                        has_trait = leader_trait_legendary_leader
                        has_trait = leader_trait_legendary_offspring
                    }
                }
                random_list = {
                    10 = {
                        add_trait_no_notify = leader_trait_legendary_offspring
                        if = {
                            limit = {
                                owner = {
                                    NOT = { has_country_flag = philosopher_king_legendary_offspring }
                                }
                            }
                            owner = { set_country_flag = philosopher_king_legendary_offspring }
                        }
                        modifier = {
                            add = 90
                            owner = { has_country_flag = philosopher_king_legendary_offspring }
                        }
                    }
                    90 = {
                        modifier = {
                            factor = 0
                            owner = {
                                NOT = { has_country_flag = philosopher_king_legendary_offspring }
                            }
                        }
                    }
                }
            }
        }
    }
}

# 国教崇拜
namespace = ethic_imperial_cult
country_event = {
    id = ethic_imperial_cult.0
    title = "ethic_imperial_cult.0.name"
    desc = "ethic_imperial_cult.0.desc"
    picture = GFX_evt_news_room
    show_sound = event_life_support_fail
    is_triggered_only = yes

    trigger = {
        exists = from
        from = {
            is_ruler = yes
        }
        this = { has_valid_civic = civic_imperial_cult }
    }

    option = {
        name = ethic_imperial_cult.0.a
        custom_tooltip = ethic_imperial_cult.a_effects
        add_modifier = { modifier = imperial_cult_modifier days = -1 }
        add_modifier = { modifier = imperial_cult_modifier_2 days = 360 }
    }
}

namespace = ethic_ynwd_event
# 乐土机械
country_event = {
    id = ethic_ynwd_event.1
    hide_window = yes
    is_triggered_only = yes

    trigger = { has_civic = civic_machine_paradise_lost }

    immediate = {
        give_technology = { tech = tech_terrestrial_sculpting }
        give_technology = { tech = tech_paradise_dome }
    }
}

# 失控机仆
country_event = {
    id = ethic_ynwd_event.2
    hide_window = yes
    is_triggered_only = yes

    trigger = { has_civic = civic_machine_servitor }

    immediate = {
        random_owned_pop_group = {
            limit = { has_citizenship_type = { type = citizenship_organic_trophy } }
            species = { set_species_flag = original_organic_species_of_@root }
        }
    }
}

# 征服者
namespace = glorious_fleet
country_event = {
    id = glorious_fleet.0
    hide_window = yes
    is_triggered_only = yes

    trigger = {
        has_valid_civic = civic_nationalistic_zeal
        NOT = { has_country_flag = glorious_fleet }
    }

    immediate = {
        add_modifier = {
            modifier = "glorious_fleet"
            days = 360
        }
        set_timed_country_flag = {
            flag = glorious_fleet
            days = 360
        }
        if = {
            limit = { has_country_flag = unglorious_fleet }
            remove_modifier = unglorious_fleet
            remove_country_flag = unglorious_fleet
        }
    }

}
country_event = {
    id = glorious_fleet.1
    hide_window = yes
    is_triggered_only = yes

    trigger = {
        has_valid_civic = civic_nationalistic_zeal
        NOT = { has_country_flag = unglorious_fleet }
    }

    immediate = {
        add_modifier = {
            modifier = "unglorious_fleet"
            days = 360
        }
        set_timed_country_flag = {
            flag = unglorious_fleet
            days = 360
        }
        if = {
            limit = { has_country_flag = glorious_fleet }
            remove_modifier = glorious_fleet
            remove_country_flag = glorious_fleet
        }
    }

}

# 普世主义
namespace = unity_patrons
country_event = {
    id = unity_patrons.1
    hide_window = yes
    is_triggered_only = yes
    location = ROOT

    trigger = {
        has_valid_civic = civic_peacekeepers
    }

    immediate = {
        add_modifier = {
            modifier = "unity_patrons"
            days = 3650
        }
    }

}

# 远视主义
namespace = ethic_ultravisionary_socialism
country_event = {
    id = ethic_ultravisionary_socialism.0
    hide_window = yes
    is_triggered_only = yes

    trigger = {
        has_valid_civic = civic_ultravisionary_socialism
    }

    immediate = {
        add_monthly_resource_mult = {
            resource = unity
            value = 2
        }
    }
}

# 学习型社会
namespace = ethic_learning_society
country_event = {
    id = ethic_learning_society.0
    hide_window = yes
    is_triggered_only = yes

    trigger = {
        OR = {
            has_valid_civic = civic_learning_society
            has_valid_civic = civic_learning_society_corporate
        }
    }

    immediate = {
        add_monthly_resource_mult = {
            resource = engineering_research
            value = 3
        }
        add_monthly_resource_mult = {
            resource = physics_research
            value = 3
        }
        add_monthly_resource_mult = {
            resource = society_research
            value = 3
        }
    }
}

# 军阀共和国
namespace = eci_civic_citizen_service
country_event = {
    id = eci_civic_citizen_service.1
    hide_window = yes

    is_triggered_only = yes

    trigger = {
        has_valid_civic = civic_citizen_service
    }

    immediate = {
        owner = {
            add_monthly_resource_mult = {
                resource = unity
                value = 120
            }
        }
    }
}
country_event = {
    id = eci_civic_citizen_service.2
    hide_window = yes

    is_triggered_only = yes

    trigger = {
        has_valid_civic = civic_citizen_service
    }

    immediate = {
        add_modifier = { modifier = military_junta_war_lost years = 5 }
    }
}

# 和平乌托邦
namespace = eci_civic_peaceful_republic
country_event = {
    id = eci_civic_peaceful_republic.0
    hide_window = yes

    is_triggered_only = yes

    trigger = {
        has_valid_civic = civic_peaceful_republic
        NOR = {
            has_modifier = sustained_peace_1
            has_modifier = sustained_peace_2
            has_modifier = sustained_peace_3
            has_modifier = sustained_peace_4
            has_modifier = sustained_peace_5
        }
    }

    immediate = {
        country_event = { id = eci_civic_peaceful_republic.1 days = 3600 }
    }
}
country_event = {
    id = eci_civic_peaceful_republic.1
    hide_window = yes

    is_triggered_only = yes

    trigger = {
        has_valid_civic = civic_peaceful_republic
    }

    immediate = {
        add_modifier = { modifier = sustained_peace_1 years = -1 }
        country_event = { id = eci_civic_peaceful_republic.2 days = 3600 }
    }
}
country_event = {
    id = eci_civic_peaceful_republic.2
    hide_window = yes

    is_triggered_only = yes

    trigger = {
        has_valid_civic = civic_peaceful_republic
    }

    immediate = {
        remove_modifier = sustained_peace_1
        add_modifier = { modifier = sustained_peace_2 years = -1 }
        country_event = { id = eci_civic_peaceful_republic.3 days = 3600 }
    }
}
country_event = {
    id = eci_civic_peaceful_republic.3
    hide_window = yes

    is_triggered_only = yes

    trigger = {
        has_valid_civic = civic_peaceful_republic
    }

    immediate = {
        remove_modifier = sustained_peace_2
        add_modifier = { modifier = sustained_peace_3 years = -1 }
        country_event = { id = eci_civic_peaceful_republic.4 days = 3600 }
    }
}
country_event = {
    id = eci_civic_peaceful_republic.4
    hide_window = yes

    is_triggered_only = yes

    trigger = {
        has_valid_civic = civic_peaceful_republic
    }

    immediate = {
        remove_modifier = sustained_peace_3
        add_modifier = { modifier = sustained_peace_4 years = -1 }
        country_event = { id = eci_civic_peaceful_republic.5 days = 3600 }
    }
}
country_event = {
    id = eci_civic_peaceful_republic.5
    hide_window = yes

    is_triggered_only = yes

    trigger = {
        has_valid_civic = civic_peaceful_republic
    }

    immediate = {
        remove_modifier = sustained_peace_4
        add_modifier = { modifier = sustained_peace_5 years = -1 }
    }
}
country_event = {
    id = eci_civic_peaceful_republic.6
    hide_window = yes

    is_triggered_only = yes

    trigger = {
        OR = {
            has_modifier = sustained_peace_1
            has_modifier = sustained_peace_2
            has_modifier = sustained_peace_3
            has_modifier = sustained_peace_4
            has_modifier = sustained_peace_5
        }
    }

    immediate = {
        remove_modifier = sustained_peace_1
        remove_modifier = sustained_peace_2
        remove_modifier = sustained_peace_3
        remove_modifier = sustained_peace_4
        remove_modifier = sustained_peace_5
    }
}
country_event = {
    id = eci_civic_peaceful_republic.7
    hide_window = yes

    is_triggered_only = yes

    trigger = {
        NOT = { has_valid_civic = civic_peaceful_republic }
        OR = {
            has_modifier = sustained_peace_1
            has_modifier = sustained_peace_2
            has_modifier = sustained_peace_3
            has_modifier = sustained_peace_4
            has_modifier = sustained_peace_5
        }
    }

    immediate = {
        remove_modifier = sustained_peace_1
        remove_modifier = sustained_peace_2
        remove_modifier = sustained_peace_3
        remove_modifier = sustained_peace_4
        remove_modifier = sustained_peace_5
    }
}

# 和平防卫军
namespace = eci_civic_peace_defense_forces
country_event = {
    id = eci_civic_peace_defense_forces.1
    hide_window = yes

    is_triggered_only = yes

    trigger = {
        is_peace_defense_forces_country = yes
        is_at_war = yes
        any_war = {
            any_defender = {
                is_same_value = this
            }
        }
    }

    immediate = {
        add_modifier = { modifier = peace_defense_forces_1 days = -1 }
    }
}
country_event = {
    id = eci_civic_peace_defense_forces.2
    hide_window = yes

    is_triggered_only = yes

    trigger = {
        is_peace_defense_forces_country = yes
        is_at_war = yes
        any_war = {
            any_defender = {
                NOT = { is_same_value = this }
            }
        }
    }

    immediate = {
        add_modifier = { modifier = peace_defense_forces_2 days = -1 }
    }
}
country_event = {
    id = eci_civic_peace_defense_forces.3
    hide_window = yes

    is_triggered_only = yes

    trigger = {
        is_peace_defense_forces_country = yes
        is_at_war = no
    }

    immediate = {
        remove_modifier = peace_defense_forces_1
        remove_modifier = peace_defense_forces_2
    }
}
planet_event = {
    id = eci_civic_peace_defense_forces.4
    hide_window = yes

    is_triggered_only = yes

    trigger = {
        any_ground_combat_defender = {
            is_same_value = root.owner
        }
        owner = {
            is_peace_defense_forces_country = yes
        }
    }

    immediate = {
        random_list = {
            33 = {
                create_army = {
                    name = "ultraman_plural"
                    owner = root.owner
                    type = "ultraman"
                }
                modifier = {
                    add = 67
                    is_capital = yes
                }
            }
            67 = {
                modifier = {
                    factor = 0
                    is_capital = yes
                    planet.owner = {
                        NOT = { has_origin = origin_ultraman }
                    }
                }
                modifier = {
                    add = 34
                    planet.owner = { has_origin = origin_ultraman }
                }
            }
        }
    }
}
country_event = {
    id = eci_civic_peace_defense_forces.5
    hide_window = yes

    is_triggered_only = yes

    trigger = {
        any_owned_army = { army_type = ultraman }
    }

    immediate = {
        every_owned_planet = {
            limit = { has_ground_combat = no }
            every_planet_army = {
                limit = { army_type = ultraman }
                leader = {
                    unassign_leader = this
                }
                remove_army = yes
            }
        }
    }
}

# 超凡入圣
namespace = eci_transcendence
country_event = {
    id = eci_transcendence.0
    hide_window = yes
    is_triggered_only = yes
    trigger = { has_civic = civic_transcendence }
    immediate = {
        start_situation = { type = transcendence_technology }
    }
}
country_event = {
    id = eci_transcendence.1
    hide_window = yes
    is_triggered_only = yes
    immediate = {
        start_situation = {
            type = transcendence_technology
            target = root
        }
        add_random_research_option = {
            add_progress = 1
            ignore_prereqs = no
            ignore_rare = no
            area = engineering
            tier = 1
            fail_effects = {
                add_random_research_option = {
                    add_progress = 1
                    ignore_prereqs = no
                    ignore_rare = no
                    area = engineering
                    tier = 2
                    fail_effects = {
                        add_random_research_option = {
                            add_progress = 1
                            ignore_prereqs = no
                            ignore_rare = no
                            area = engineering
                            tier = 3
                            fail_effects = {
                                add_random_research_option = {
                                    add_progress = 1
                                    ignore_prereqs = no
                                    ignore_rare = no
                                    area = engineering
                                    tier = 4
                                    fail_effects = {
                                        add_random_research_option = {
                                            add_progress = 1
                                            ignore_prereqs = no
                                            ignore_rare = no
                                            area = engineering
                                            tier = 5
                                            fail_effects = {
                                                add_random_research_option = {
                                                    add_progress = 1
                                                    ignore_prereqs = no
                                                    ignore_rare = no
                                                    area = engineering
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
        add_random_research_option = {
            add_progress = 1
            ignore_prereqs = no
            area = physics
            tier = 1
            fail_effects = {
                add_random_research_option = {
                    add_progress = 1
                    ignore_prereqs = no
                    area = physics
                    tier = 2
                    fail_effects = {
                        add_random_research_option = {
                            add_progress = 1
                            ignore_prereqs = no
                            area = physics
                            tier = 3
                            fail_effects = {
                                add_random_research_option = {
                                    add_progress = 1
                                    ignore_prereqs = no
                                    area = physics
                                    tier = 4
                                    fail_effects = {
                                        add_random_research_option = {
                                            add_progress = 1
                                            ignore_prereqs = no
                                            area = physics
                                            tier = 5
                                            fail_effects = {
                                                add_random_research_option = {
                                                    add_progress = 1
                                                    ignore_prereqs = no
                                                    ignore_rare = no
                                                    area = physics
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
        add_random_research_option = {
            add_progress = 1
            ignore_prereqs = no
            area = society
            tier = 1
            fail_effects = {
                add_random_research_option = {
                    add_progress = 1
                    ignore_prereqs = no
                    ignore_rare = no
                    area = society
                    tier = 2
                    fail_effects = {
                        add_random_research_option = {
                            add_progress = 1
                            ignore_prereqs = no
                            ignore_rare = no
                            area = society
                            tier = 3
                            fail_effects = {
                                add_random_research_option = {
                                    add_progress = 1
                                    ignore_prereqs = no
                                    ignore_rare = no
                                    area = society
                                    tier = 4
                                    fail_effects = {
                                        add_random_research_option = {
                                            add_progress = 1
                                            ignore_prereqs = no
                                            ignore_rare = no
                                            area = society
                                            tier = 5
                                            fail_effects = {
                                                add_random_research_option = {
                                                    add_progress = 1
                                                    ignore_prereqs = no
                                                    ignore_rare = no
                                                    area = society
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}

# 论坛水友
namespace = eci_civic_forum_friends
event = {
    id = eci_civic_forum_friends.1
    hide_window = yes
    is_triggered_only = yes

    immediate = {
        random_country = {
            limit = {
                OR = {
                    is_ai = no
                    has_country_flag = enion
                }
                OR = {
                    has_civic = civic_forum_friends
                    has_civic = civic_forum_friends_corporate
                }
            }
            save_event_target_as = civic_forum_friends_player
        }

        every_country = {
            limit = {
                any_country = {
                    OR = {
                        has_civic = civic_forum_friends
                        has_civic = civic_forum_friends_corporate
                    }
                }
            }
            if = {
                limit = {
                    OR = {
                        has_civic = civic_forum_friends
                        has_civic = civic_forum_friends_corporate
                    }
                }
                set_country_flag = first_contact_event
                set_country_flag = Story2
                give_technology = {
                    message = no
                    tech = tech_federal_state
                }
                join_alliance = { who = event_target:civic_forum_friends_player override_requirements = yes }
            }
            if = {
                limit = {
                    is_ai = no
                    OR = {
                        has_civic = civic_forum_friends
                        has_civic = civic_forum_friends_corporate
                    }
                }
                federation = {
                    set_federation_leader = root
                    set_name = NAME_forum_friends
                    add_federation_experience = 600
                    add_cohesion = 100
                }
                country_event = { id = origin.57 days = 2 }
            }
        }
    }
}

# 星星之火
namespace = eci_civic_firing_torch
country_event = {
    id = eci_civic_firing_torch.1
    hide_window = yes
    is_triggered_only = yes
    trigger = {
        has_valid_civic = civic_firing_torch
    }
    immediate = {
        save_global_event_target_as = firing_torch_old_country
        if = {
            limit = {
                NOT = {
                    any_country = {
                        has_country_flag = fusheng_empire_firing_torch
                    }
                }
            }
            create_country = {
                type = default
                name_list = random
                species = root.owner_main_species
                flag = event_target:firing_torch_old_country
                effect = {
                    #复活后弹窗
                    country_event = {
                        id = eci_civic_firing_torch.2
                        days = 30
                    }
                    add_resource = {
                        energy = 20000
                        minerals = 20000
                        influence = 800
                        alloys = 10000
                        food = 10000 #just in case
                        consumer_goods = 5000 #just in case
                        rare_crystals = 1000
                        volatile_motes = 1000
                        exotic_gases = 1000
                        sr_dark_matter = 100
                    }
                    set_name = root
                    set_timed_country_flag = {
                        flag = fusheng_empire_firing_torch
                        days = 30
                    }
                    copy_ethos_and_authority = root
                    copy_flags_and_variables_from = root
                    force_add_civic = civic_firing_torch
                    copy_techs_from = {
                        target = root
                    }
                    save_global_event_target_as = firing_torch_new_country
                    if = {
                        limit = {
                            any_playable_country = {
                                is_ai = yes
                                is_socialism = no
                                num_owned_planets > 0
                                any_owned_pop_group = {
                                    OR = {
                                        is_enslaved = yes
                                        has_ethic = ethic_egalitarian
                                    }
                                }
                            }
                        }
                        random_playable_country = {
                            limit = {
                                is_ai = yes
                                is_gestalt = no
                                is_socialism = no
                                num_owned_planets > 0
                                any_owned_pop_group = {
                                    OR = {
                                        is_enslaved = yes
                                        has_ethic = ethic_egalitarian
                                    }
                                }
                            }
                            event_target:firing_torch_new_country = {
                                declare_war = {
                                    target = prev
                                    attacker_war_goal = wg_galactic_revolution
                                }
                                add_modifier = {
                                    modifier = revolution_ai_buff
                                    days = 1800
                                }
                            }
                            random_owned_planet = {
                                starbase = {
                                    set_owner = event_target:firing_torch_new_country
                                }
                                set_owner = event_target:firing_torch_new_country
                                while = {
                                    count = 800
                                    create_pop_group = {
                                        species = event_target:firing_torch_new_country.owner_main_species
                                        ethos = { ethic = ethic_egalitarian }
                                    }
                                }
                                save_event_target_as = revolution_planet
                                every_owned_pop_group = {
                                    if = {
                                        limit = {
                                            OR = {
                                                has_trait = trait_latent_psionic
                                                has_trait = trait_psionic
                                            }
                                        }
                                        planet = {
                                            create_army = {
                                                type = psionic_militia_army
                                                species = prev.species
                                                owner = event_target:firing_torch_new_country
                                            }
                                        }
                                    }
                                    else = {
                                        planet = {
                                            create_army = {
                                                type = militia_army
                                                species = prev.species
                                                owner = event_target:firing_torch_new_country
                                            }
                                        }
                                    }
                                }
                            }
                            create_fleet_from_naval_cap = 1
                            last_created_fleet = {
                                set_owner = event_target:firing_torch_new_country
                                set_location = event_target:revolution_planet
                            }
                            event_target:firing_torch_old_country = {
                                every_controlled_fleet = {
                                    limit = {
                                        is_mobile = yes
                                    }
                                    set_owner = event_target:firing_torch_new_country
                                    set_location = event_target:revolution_planet
                                }
                            }
                            every_owned_planet = {
                                limit = {
                                    any_owned_pop_group = {
                                        pop_has_happiness = yes
                                        happiness < 1
                                    }
                                }
                                planet_event = {
                                    id = eci_civic_firing_torch.3
                                    days = 30
                                }
                            }
                        }
                    }
                    else_if = {
                        limit = {
                            any_system = {
                                any_system_planet = {
                                    has_owner = no
                                    is_colonizable = yes
                                }
                            }
                        }
                        random_system = {
                            limit = {
                                any_system_planet = {
                                    has_owner = no
                                    is_colonizable = yes
                                }
                            }
                            create_starbase = {
                                size = starbase_citadel
                                owner = event_target:firing_torch_new_country
                                module = shipyard
                                module = shipyard
                                module = shipyard
                                module = anchorage
                                module = anchorage
                                module = anchorage
                                building = titan_yards
                                building = colossus_yards
                                building = fleet_academy
                                building = naval_logistics_office
                            }
                            random_system_planet = {
                                limit = {
                                    has_owner = no
                                    is_colonizable = yes
                                    is_a_planet_megastructure = no
                                }
                                create_colony = {
                                    owner = event_target:firing_torch_new_country
                                    species = event_target:firing_torch_new_country.owner_main_species
                                    ethos = { ethic = ethic_egalitarian }
                                }
                                change_pc = pc_gaia
                                add_district = district_city
                                add_district = district_city
                                add_district = district_farming
                                add_district = district_mining
                                add_district = district_generator
                                add_building = building_capital
                                add_building = building_research_lab_1
                                add_building = building_foundry_1
                                add_building = building_factory_1
                                while = {
                                    limit = {
                                        num_pops < 8
                                        free_housing > 0
                                    }
                                    create_pop_group = {
                                        species = event_target:firing_torch_new_country.owner_main_species
                                        ethos = { ethic = ethic_egalitarian }
                                    }
                                }
                            }
                            create_fleet = {
                                effect = {
                                    set_owner = root
                                    set_location = root.capital_scope
                                    while = {
                                        count = 20
                                        create_ship = {
                                            name = HUMAN4_FLEET_RevolutionaryFleet
                                            random_existing_design = corvette
                                        }
                                    }
                                    owner = {
                                        create_leader = {
                                            class = commander
                                            name = random
                                            species = owner_main_species
                                        }
                                    }
                                    last_created_leader = {
                                        if = {
                                            limit = {
                                                has_skill > 1
                                                num_traits = 0
                                            }
                                            add_trait_no_notify = random_common
                                        }
                                    }
                                    set_leader = last_created_leader
                                }
                            }
                        }
                    }
                    else = {
                        random_system = {
                            limit = {
                                any_system_planet = {
                                    has_owner = no
                                    is_star = no
                                    is_asteroid = no
                                    NOT = {
                                        is_planet_class = pc_gas_giant
                                    }
                                    is_a_planet_megastructure = no
                                }
                            }
                            create_starbase = {
                                size = starbase_citadel
                                owner = event_target:firing_torch_new_country
                                module = shipyard
                                module = shipyard
                                module = shipyard
                                module = shipyard
                                module = shipyard
                                module = shipyard
                                building = titan_yards
                                building = colossus_yards
                                building = fleet_academy
                                building = crew_quarters
                            }
                            random_system_planet = {
                                limit = {
                                    has_owner = no
                                    is_star = no
                                    is_asteroid = no
                                    NOT = {
                                        is_planet_class = pc_gas_giant
                                    }
                                    is_a_planet_megastructure = no
                                }
                                change_pc = pc_gaia
                                create_colony = {
                                    owner = event_target:firing_torch_new_country
                                    species = event_target:firing_torch_new_country.owner_main_species
                                    ethos = { ethic = ethic_egalitarian }
                                }
                                add_district = district_city
                                add_district = district_city
                                add_district = district_farming
                                add_district = district_mining
                                add_district = district_generator
                                add_building = building_capital
                                add_building = building_research_lab_1
                                add_building = building_foundry_1
                                add_building = building_factory_1
                                while = {
                                    limit = {
                                        num_pops < 8
                                        free_housing > 0
                                    }
                                    create_pop_group = {
                                        species = event_target:firing_torch_new_country.owner_main_species
                                        ethos = { ethic = ethic_egalitarian }
                                    }
                                }
                            }
                            create_fleet = {
                                effect = {
                                    set_owner = root
                                    set_location = root.capital_scope
                                    while = {
                                        count = 20
                                        create_ship = {
                                            name = HUMAN4_FLEET_RevolutionaryFleet
                                            random_existing_design = corvette
                                        }
                                    }
                                    owner = {
                                        create_leader = {
                                            class = commander
                                            name = random
                                            species = owner_main_species
                                        }
                                    }
                                    last_created_leader = {
                                        if = {
                                            limit = {
                                                has_skill > 1
                                                num_traits = 0
                                            }
                                            add_trait_no_notify = random_common
                                        }
                                    }
                                    set_leader = last_created_leader
                                }
                            }
                        }
                    }
                    event_target:firing_torch_new_country = {
                        if = {
                            limit = {
                                root = { is_ai = no }
                            }
                            set_player = root
                        }
                    }
                }
            }
        }
    }
}
country_event = {
    id = eci_civic_firing_torch.2
    title = eci_civic_firing_torch.2.name
    desc = eci_civic_firing_torch.2.desc
    picture = GFX_evt_victorious_army
    is_triggered_only = yes
    immediate = {
    }
    option = {
        name = eci_civic_firing_torch.2.a
        custom_tooltip = eci_civic_firing_torch.2.tooltip
    }
}
planet_event = {
    id = eci_civic_firing_torch.3
    hide_window = yes
    is_triggered_only = yes
    immediate = {
        every_owned_pop_group = {
            random_list = {
                0 = {
                    add = trigger:happiness
                    modifier = {
                        factor = 0

                    }
                }
                1 = {
                    subtract = trigger:happiness
                    add_modifier = {
                        modifier = modifier_mobilization_pop_2
                    }
                    if = {
                        limit = {
                            OR = {
                                has_trait = trait_latent_psionic
                                has_trait = trait_psionic
                            }
                        }
                        planet = {
                            create_army = {
                                type = psionic_militia_army
                                species = prev.species
                                owner = event_target:firing_torch_new_country
                            }
                        }
                    }
                    else = {
                        planet = {
                            create_army = {
                                type = militia_army
                                species = prev.species
                                owner = event_target:firing_torch_new_country
                            }
                        }
                    }
                }
            }
        }
    }
}

# 答案
namespace = ethic_civic_answer
event = {
    id = ethic_civic_answer.0
    hide_window = yes
    is_triggered_only = yes
    immediate = {
        every_country = {
            limit = {
                has_civic = civic_answer
            }
            country_event = { id = ethic_civic_answer.1 days = 15120 }
        }
    }
}
country_event = {
    id = ethic_civic_answer.1
    hide_window = yes
    is_triggered_only = yes

    immediate = {
        add_modifier = {
            modifier = civic_answer_modifier
            days = 360
        }
        if = {
            limit = { has_civic = civic_answer }
            country_event = { id = ethic_civic_answer.1 days = 15480 }
        }
    }
}

# 菌食菇力者
namespace = ethic_yunnanese
country_event = {
    id = ethic_yunnanese.1
    hide_window = yes
    is_triggered_only = yes

    trigger = {
        has_valid_civic = civic_yunnanese
    }

    immediate = {
        if = {
            limit = {
                any_owned_planet = {
                    NOT = { has_deposit = d_mushroom }
                }
                NOT = { has_tradition = tr_psionics_breach_shroud }
                NOT = { has_country_flag = shroud_diplomacy_engaged }
            }
            set_country_flag = shroud_diplomacy_engaged
        }
        if = {
            limit = {
                OR = {
                    any_owned_planet = { has_deposit = d_mushroom }
                    has_tradition = tr_psionics_breach_shroud
                }
                has_country_flag = shroud_diplomacy_engaged
            }
            remove_country_flag = shroud_diplomacy_engaged
        }
        random_list = {
            1 = {
                remove_modifier = shroud_cooldown
                remove_modifier = shroud_precog_cooldown
                country_event = { id = utopia.3000 }
                complex_trigger_modifier = {
                    trigger = count_owned_planet
                    parameters = {
                        limit = {
                            has_deposit = d_mushroom
                        }
                    }
                    mode = add
                }
                modifier = {
                    factor = 0
                    OR = {
                        has_modifier = promised_no_shroud
                        any_owned_planet = {
                            NOT = { has_deposit = d_mushroom }
                        }
                    }
                }
            }
            99 = {}
        }
    }
}

# 包税公司
namespace = ethic_tax_inclusive_company
ship_event = { #Entering Unstable Planet System
    id = ethic_tax_inclusive_company.0
    hide_window = yes

    is_triggered_only = yes

    trigger = {
        any_country = { has_valid_civic = civic_tax_inclusive_company }
        FROM = {
            exists = owner
            owner = { has_valid_civic = civic_tax_inclusive_company }
        }
    }

    immediate = {
        FROMFROM = {
            owner = {
                save_event_target_as = taxpayer
            }
        }
        FROM = {
            owner = {
                save_event_target_as = taxpackager
            }
        }
        if = {
            limit = {
                event_target:taxpayer = {
                    is_default_empire = yes
                }
            }
            event_target:taxpackager = {
                owner = {
                    add_resource = {
                        energy = 1
                        mult = FROMFROM.trigger:fleet_power
                    }
                }
            }
        }
        if = {
            limit = {
                event_target:taxpayer = {
                    is_amoeba_country_type = yes
                }
            }
            event_target:taxpackager = {
                owner = {
                    add_resource = {
                        food = 1
                        mult = FROMFROM.trigger:fleet_power
                    }
                }
            }
        }
        if = {
            limit = {
                event_target:taxpayer = {
                    is_crystal_country_type = yes
                }
            }
            event_target:taxpackager = {
                owner = {
                    add_resource = {
                        minerals = 1
                        mult = FROMFROM.trigger:fleet_power
                    }
                }
            }
        }
    }
}

# 星神启动
namespace = ethic_xinshin_impact
country_event = {
    id = ethic_xinshin_impact.1
    title = cara_home_lootbox.title
    desc = lootbox_contents_b
    is_triggered_only = yes
    picture = GFX_evt_ancient_artifact
    show_sound = event_lootbox_good

    immediate = {
        add_monthly_resource_mult = {
            resource = consumer_goods
            value = 6
            min = 60
        }
    }

    option = {
        name = OK
    }
}
country_event = {
    id = ethic_xinshin_impact.2
    title = cara_home_lootbox.title
    desc = lootbox_contents_n
    is_triggered_only = yes
    picture = GFX_evt_ancient_artifact
    show_sound = event_lootbox_good

    immediate = {
        add_monthly_resource_mult = {
            resource = alloys
            value = 6
            min = 60
        }
    }

    option = {
        name = OK
    }
}
country_event = {
    id = ethic_xinshin_impact.3
    title = cara_home_lootbox.title
    desc = lootbox_contents_i
    is_triggered_only = yes
    picture = GFX_evt_ancient_artifact
    show_sound = event_lootbox_good

    immediate = {
        add_monthly_resource_mult = {
            resource = exotic_gases
            value = 6
            min = 60
        }
    }

    option = {
        name = OK
    }
}
country_event = {
    id = ethic_xinshin_impact.4
    title = cara_home_lootbox.title
    desc = lootbox_contents_e
    is_triggered_only = yes
    picture = GFX_evt_ancient_artifact
    show_sound = event_lootbox_good

    immediate = {
        add_monthly_resource_mult = {
            resource = volatile_motes
            value = 6
            min = 60
        }
    }

    option = {
        name = OK
    }
}
country_event = {
    id = ethic_xinshin_impact.5
    title = cara_home_lootbox.title
    desc = lootbox_contents_h
    is_triggered_only = yes
    picture = GFX_evt_ancient_artifact
    show_sound = event_lootbox_good

    immediate = {
        add_monthly_resource_mult = {
            resource = rare_crystals
            value = 6
            min = 60
        }
    }

    option = {
        name = OK
    }
}

# 家国同构
namespace = ethic_home_country_isomorphism
country_event = {
    id = ethic_home_country_isomorphism.0
    hide_window = yes

    is_triggered_only = yes

    trigger = {
        this = {
            has_valid_civic = civic_home_country_isomorphism
            NOT = { has_tradition = tr_revolution_adopt }
        }
        from = {
            OR = {
                has_skill = 8
                has_trait = leader_trait_legendary_leader
                AND = {
                    has_trait = leader_trait_legendary_offspring
                    has_skill >= 4
                }
            }
            NOT = { has_leader_flag = home_country_isomorphism_contributed }
        }
    }

    immediate = {
        FROM = {
            set_leader_flag = home_country_isomorphism_contributed
        }
        every_owned_planet = {
            limit = {
                has_building = building_ancestral_hall
            }
            change_variable = {
                which = paragon_home_country_isomorphism
                value = 1
            }
        }
    }
}
country_event = {
    id = ethic_home_country_isomorphism.1
    hide_window = yes

    is_triggered_only = yes

    trigger = {
        this = {
            has_valid_civic = civic_home_country_isomorphism
            NOT = { has_tradition = tr_revolution_adopt }
        }
        from = {
            is_ruler = yes
        }
    }

    immediate = {
        every_owned_planet = {
            limit = {
                has_building = building_ancestral_hall
            }
            change_variable = {
                which = ruler_home_country_isomorphism
                value = 1
            }
        }
    }
}

# 无限恐怖
namespace = ethic_revolutionary_terrorism
country_event = {
    id = ethic_revolutionary_terrorism.0
    hide_window = yes

    is_triggered_only = yes

    trigger = {
        has_valid_civic = civic_revolutionary_terrorism
        NOT = { has_tradition = tr_virtuality_finish }
    }

    immediate = {
        every_owned_planet = {
            every_owned_pop_group = {
                if = {
                    limit = { has_ethic = ethic_authoritarian }
                    set_pop_group_flag = revolutionary_terrorism_kill
                }
                if = {
                    limit = { has_ethic = ethic_pacifist }
                    set_pop_group_flag = revolutionary_terrorism_kill
                }
                if = {
                    limit = {
                        root = { is_militarist = no }
                        has_ethic = ethic_militarist
                    }
                    set_pop_group_flag = revolutionary_terrorism_kill
                }
                if = {
                    limit = {
                        root = { is_materialist = no }
                        has_ethic = ethic_materialist
                    }
                    set_pop_group_flag = revolutionary_terrorism_kill
                }
                if = {
                    limit = {
                        root = { is_spiritualist = no }
                        has_ethic = ethic_spiritualist
                    }
                    set_pop_group_flag = revolutionary_terrorism_kill
                }
                if = {
                    limit = {
                        root = { is_xenophobe = no }
                        has_ethic = ethic_xenophobe
                    }
                    set_pop_group_flag = revolutionary_terrorism_kill
                }
                if = {
                    limit = {
                        root = { is_xenophile = no }
                        has_ethic = ethic_xenophile
                    }
                    set_pop_group_flag = revolutionary_terrorism_kill
                }
            }
        }
        country_event = { id = ethic_revolutionary_terrorism.1 days = 15 }
    }
}
country_event = {
    id = ethic_revolutionary_terrorism.1
    hide_window = yes
    is_triggered_only = yes
    immediate = {
        every_owned_planet = {
            if = {
                limit = {
                    NOT = { has_deposit = d_monument_to_the_victims }
                }
                add_deposit = d_monument_to_the_victims
            }
            export_trigger_value_to_variable = {
                trigger = count_owned_pop_amount
                parameters = {
                    limit = {
                        has_pop_flag = revolutionary_terrorism_kill
                    }
                }
                variable = revolutionary_terrorism_value_kill_1
            }
            change_variable = {
                which = revolutionary_terrorism_value_killpop
                value = revolutionary_terrorism_value_kill_1
            }
            every_owned_pop_group = {
                limit = {
                    has_pop_flag = revolutionary_terrorism_kill
                }
                if = {
                    limit = {
                        root = {
                            OR = {
                                has_valid_civic = civic_reanimated_armies
                                has_tradition = tr_genetics_adopt
                            }
                        }
                    }
                    planet = {
                        create_army = {
                            name = random
                            owner = this.owner
                            species = prev
                            type = "undead_army"
                        }
                    }
                }
                kill_single_pop = yes
            }
            every_owned_pop_group = {
                add_modifier = {
                    modifier = revolutionary_terror
                    days = 360
                }
            }
        }
    }
}
planet_event = {
    id = ethic_revolutionary_terrorism.2
    hide_window = yes

    is_triggered_only = yes

    trigger = {
        from = { has_valid_civic = civic_revolutionary_terrorism }
    }

    immediate = {
        from = {
            every_owned_pop_group = {
                if = {
                    limit = { has_ethic = ethic_authoritarian }
                    set_pop_group_flag = revolutionary_terrorism_kill
                }
                if = {
                    limit = { has_ethic = ethic_pacifist }
                    set_pop_group_flag = revolutionary_terrorism_kill
                }
                if = {
                    limit = {
                        exists = owner
                        owner = { is_militarist = no }
                        has_ethic = ethic_militarist
                    }
                    set_pop_group_flag = revolutionary_terrorism_kill
                }
                if = {
                    limit = {
                        exists = owner
                        owner = { is_materialist = no }
                        has_ethic = ethic_materialist
                    }
                    set_pop_group_flag = revolutionary_terrorism_kill
                }
                if = {
                    limit = {
                        exists = owner
                        owner = { is_spiritualist = no }
                        has_ethic = ethic_spiritualist
                    }
                    set_pop_group_flag = revolutionary_terrorism_kill
                }
                if = {
                    limit = {
                        exists = owner
                        owner = { is_xenophobe = no }
                        has_ethic = ethic_xenophobe
                    }
                    set_pop_group_flag = revolutionary_terrorism_kill
                }
                if = {
                    limit = {
                        exists = owner
                        owner = { is_xenophile = no }
                        has_ethic = ethic_xenophile
                    }
                    set_pop_group_flag = revolutionary_terrorism_kill
                }
            }
        }
        planet_event = { id = ethic_revolutionary_terrorism.3 days = 30 random = 60 }
    }
}
planet_event = {
    id = ethic_revolutionary_terrorism.3
    hide_window = yes
    is_triggered_only = yes
    trigger = {
        from = { has_valid_civic = civic_revolutionary_terrorism }
    }
    immediate = {
        if = {
            limit = {
                NOT = { has_deposit = d_monument_to_the_victims }
            }
            add_deposit = d_monument_to_the_victims
        }
        export_trigger_value_to_variable = {
            trigger = count_owned_pop_amount
            parameters = {
                limit = {
                    has_pop_flag = revolutionary_terrorism_kill
                }
            }
            variable = revolutionary_terrorism_value_kill_1
        }
        change_variable = {
            which = revolutionary_terrorism_value_killpop
            value = revolutionary_terrorism_value_kill_1
        }
        every_owned_pop_group = {
            limit = {
                has_pop_flag = revolutionary_terrorism_kill
            }
            if = {
                limit = {
                    root = {
                        exists = owner
                        owner = {
                            OR = {
                                has_valid_civic = civic_reanimated_armies
                                has_tradition = tr_genetics_adopt
                            }
                        }
                    }
                }
                planet = {
                    create_army = {
                        name = random
                        owner = this.owner
                        species = prev
                        type = "undead_army"
                    }
                }
            }
            kill_single_pop = yes
        }
    }
}

# 星光魔镜
namespace = ethic_magic_mirror
country_event = {
    id = ethic_magic_mirror.1
    hide_window = yes
    is_triggered_only = yes

    trigger = {
        has_valid_civic = civic_magic_mirror
    }

    immediate = {
        set_variable = { which = value_num_rival_country value = value:num_rival_country }
        every_rival_country = {
            limit = {
                NOT = {
                    has_ethic = ethic_gestalt_consciousness
                }
            }
            if = {
                limit = {
                    NOT = { has_country_flag = magic_mirror_rival_country }
                    NOR = {
                        has_modifier = adversary_propaganda
                        has_modifier = communist_propaganda
                    }
                }
                set_country_flag = magic_mirror_rival_country
                add_modifier = { modifier = adversary_propaganda days = 3599 }
            }
        }
    }
}
country_event = {
    id = ethic_magic_mirror.2
    hide_window = yes
    is_triggered_only = yes

    trigger = {
        has_valid_civic = civic_magic_mirror
    }

    immediate = {
        every_rival_country = {
            limit = {
                NOT = {
                    has_ethic = ethic_gestalt_consciousness
                }
            }
            if = {
                limit = {
                    has_country_flag = magic_mirror_rival_country
                    NOR = {
                        has_modifier = adversary_propaganda
                        has_modifier = communist_propaganda
                    }
                }
                remove_country_flag = magic_mirror_rival_country
                add_modifier = { modifier = communist_propaganda days = -1 }
            }
        }
    }
}

# 魔法之风
namespace = ethic_wind_of_magic
country_event = {
    id = ethic_wind_of_magic.0
    hide_window = yes
    is_triggered_only = yes

    trigger = {
        has_valid_civic = civic_wind_of_magic
    }

    immediate = {
        capital_scope = {
            spawn_random_storm = {
                type = shroud_storm
                immediate = yes
                cosmic_storm_start_position = this.solar_system
            }
        }
        country_event = { id = ethic_wind_of_magic.6 days = 2160 }
        country_event = { id = ethic_wind_of_magic.7 days = 2520 }
        country_event = { id = ethic_wind_of_magic.8 days = 2880 }
        country_event = { id = ethic_wind_of_magic.9 days = 3240 }
        country_event = { id = ethic_wind_of_magic.13 days = 46800 }
    }
}
country_event = {
    id = ethic_wind_of_magic.1
    hide_window = yes
    is_triggered_only = yes

    trigger = {
        has_valid_civic = civic_wind_of_magic
        NOT = { has_modifier = eci_The_Emperor }
    }

    immediate = {
        capital_scope = {
            if = {
                limit = {
                    solar_system = { is_inside_storm = no }
                }
                spawn_random_storm = {
                    type = shroud_storm
                    immediate = yes
                    cosmic_storm_start_position = this.solar_system
                }
            }
        }
    }
}
country_event = {
    id = ethic_wind_of_magic.6
    hide_window = yes
    is_triggered_only = yes

    trigger = {
        has_valid_civic = civic_wind_of_magic
    }

    immediate = {
        if = {
            limit = {
                NOT = { has_modifier = eci_The_Emperor }
            }
            add_modifier = {
                modifier = eci_Slaanesh
                years = 1
            }
        }
        country_event = { id = ethic_wind_of_magic.6 days = 2160 }
    }
}
country_event = {
    id = ethic_wind_of_magic.7
    hide_window = yes
    is_triggered_only = yes

    trigger = {
        has_valid_civic = civic_wind_of_magic
    }

    immediate = {
        if = {
            limit = {
                NOT = { has_modifier = eci_The_Emperor }
            }
            add_modifier = {
                modifier = eci_Nurgle
                years = 1
            }
        }
        country_event = { id = ethic_wind_of_magic.7 days = 2520 }
    }
}
country_event = {
    id = ethic_wind_of_magic.8
    hide_window = yes
    is_triggered_only = yes

    trigger = {
        has_valid_civic = civic_wind_of_magic
    }

    immediate = {
        if = {
            limit = {
                NOT = { has_modifier = eci_The_Emperor }
            }
            add_modifier = {
                modifier = eci_Khorne
                years = 1
            }
        }
        country_event = { id = ethic_wind_of_magic.8 days = 2880 }
    }
}
country_event = {
    id = ethic_wind_of_magic.9
    hide_window = yes
    is_triggered_only = yes

    trigger = {
        has_valid_civic = civic_wind_of_magic
    }

    immediate = {
        if = {
            limit = {
                NOT = { has_modifier = eci_The_Emperor }
            }
            add_modifier = {
                modifier = eci_Tzeentch
                years = 1
            }
        }
        country_event = { id = ethic_wind_of_magic.9 days = 3240 }
    }
}
country_event = {
    id = ethic_wind_of_magic.13
    title = "ethic_wind_of_magic.13.name"
    desc = "ethic_wind_of_magic.13.desc"
    picture = GFX_evt_unspeakable_horror
    show_sound = event_red_alert
    is_triggered_only = yes

    trigger = {
        has_valid_civic = civic_wind_of_magic
    }

    immediate = {
        add_modifier = {
            modifier = eci_The_Emperor
            years = 13
        }
        country_event = { id = ethic_wind_of_magic.9 days = 46800 }
        every_owned_sector = { shroud_storm_remove = yes }
    }

    option = {
        name = "utopia.3320.opt.a"
    }
}

# 人民军队
namespace = ethic_martial_brotherhood
fleet_event = {
    id = ethic_martial_brotherhood.0
    hide_window = yes
    is_triggered_only = yes
    trigger = {
        #	|舰队控制者|
        exists = controller
        controller = { has_valid_civic = civic_martial_brotherhood }
        #	|殖民地|
        from = {
            is_scope_type = planet
            is_colony = yes
            is_under_colonization = no
            exists = owner
            owner = { is_same_value = this.controller }
        }
    }

    immediate = {
        from = {
            add_modifier = { modifier = eci_civic_martial_brotherhood_modifier days = 360 }
            planet_event = { id = ethic_martial_brotherhood.1 days = 361 }
        }
    }
}
planet_event = {
    id = ethic_martial_brotherhood.1
    hide_window = yes
    is_triggered_only = yes
    trigger = {
        exists = owner
        owner = { has_valid_civic = civic_martial_brotherhood }
        any_fleet_in_orbit = {
            exists = controller
            controller = {
                has_valid_civic = civic_martial_brotherhood
                is_same_value = root.owner
            }
        }
    }

    immediate = {
        add_modifier = { modifier = eci_civic_martial_brotherhood_modifier days = 360 }
        planet_event = { id = ethic_martial_brotherhood.1 days = 361 }
    }
}

# 破车文化
namespace = ethic_netori_culture
fleet_event = {
    id = ethic_netori_culture.0
    hide_window = yes
    is_triggered_only = yes
    trigger = {
        #	|舰队控制者|
        exists = controller
        controller = { has_valid_civic = civic_netori_culture }
        #	|殖民地|
        from = {
            is_scope_type = planet
            is_colony = yes
            is_under_colonization = no
            exists = owner
            NOT = {
                owner = { is_same_value = this.controller }
            }
        }
    }

    immediate = {
        from = {
            random_list = {
                6 = {}
                4 = {
                    random_pop = {
                        save_event_target_as = netori_target
                    }
                    this.controller = {
                        save_event_target_as = netori_counrty
                        random_owned_planet = {
                            create_pop_group = {
                                species = event_target:netori_target
                            }
                        }
                    }
                    owner = {
                        add_opinion_modifier = { modifier = opinion_netori who = event_target:netori_counrty }
                    }
                }
            }
        }
    }
}

# 破车文化
namespace = ethic_warrior_of_love
event = {
    id = ethic_warrior_of_love.0
    hide_window = yes
    is_triggered_only = yes
    trigger = {
        any_country = { has_valid_civic = civic_warrior_of_love }
    }

    immediate = {
        every_country = {
            limit = { NOT = { has_modifier = eci_civic_warrior_of_love_modifier } }
            add_modifier = { modifier = eci_civic_warrior_of_love_modifier days = -1 }
        }
    }
}

# 拥国之军
namespace = ethic_having_a_national_army
country_event = {
    id = ethic_having_a_national_army.0
    hide_window = yes
    is_triggered_only = yes
    trigger = {
        has_valid_civic = civic_having_a_national_army
    }

    immediate = {
        if = {
            limit = {
                is_at_war = no
                NOT = {
                    any_owned_fleet = {
                        has_fleet_flag = having_a_national_army_fleet
                    }
                }
            }
            create_fleet = {
                name = "NAME_having_a_national_army"
                settings = {
                    can_disband = no
                    can_change_composition = no
                    uses_naval_capacity = no
                }
                effect = {
                    set_owner = root
                    if = {
                        limit = {
                            OR = {
                                root = {
                                    has_existing_ship_design = cosmo_crisis_titan
                                    has_existing_ship_design = bio_titan
                                    has_existing_ship_design = titan
                                }
                            }
                        }
                        create_having_a_national_army_titan = yes
                    }
                    else = {
                        create_having_a_national_army_ship = yes
                    }
                    set_fleet_flag = having_a_national_army_fleet
                    set_location = root.capital_scope
                }
            }
        }
        else_if = {
            limit = {
                any_owned_fleet = {
                    has_fleet_flag = having_a_national_army_fleet
                    exists = solar_system
                    is_in_combat = no
                }
            }
            random_owned_fleet = {
                limit = {
                    has_fleet_flag = having_a_national_army_fleet
                    exists = solar_system
                    is_in_combat = no
                }
                if = {
                    limit = {
                        OR = {
                            root = {
                                has_existing_ship_design = cosmo_crisis_titan
                                has_existing_ship_design = bio_titan
                                has_existing_ship_design = titan
                            }
                        }
                        check_variable_arithmetic = {
                            which = value:having_a_nation_army_titan_value
                            value < 0
                        }
                    }
                    create_having_a_national_army_titan = yes
                }
                else = {
                    create_having_a_national_army_ship = yes
                }
            }
        }
    }
}

# 灯塔渴求
namespace = ethic_altruism
leader_event = {
    id = ethic_altruism.0
    hide_window = yes

    is_triggered_only = yes

    trigger = {
        exists = owner
        owner = {
            has_valid_civic = civic_altruism
        }
        OR = {
            leader_class = envoy
            leader_class = official
        }
        OR = {
            AND = {
                exists = envoy_location_country
                NOT = { has_envoy_task = { task = first_contact } }
            }
            is_assigned_to_federation = yes
            is_assigned_to_galcom = yes
        }
    }

    immediate = {
        if = {
            limit = {
                exists = envoy_location_country
                envoy_location_country.species = {
                    NOR = {
                        is_archetype = MACHINE
                        is_archetype = ROBOT
                    }
                }
            }
            change_leader_portrait = envoy_location_country.species
            set_leader_flag = familiar_face_changed
        }
        else_if = {
            limit = {
                is_assigned_to_federation = yes
                owner = {
                    any_federation_ally = {
                        species = {
                            NOR = {
                                is_archetype = MACHINE
                                is_archetype = ROBOT
                            }
                        }
                    }
                }
            }
            owner = {
                random_federation_ally = {
                    limit = {
                        species = {
                            NOR = {
                                is_archetype = MACHINE
                                is_archetype = ROBOT
                            }
                        }
                    }
                    root = {
                        change_leader_portrait = prev.species
                        set_leader_flag = familiar_face_changed
                    }
                }
            }
        }
        else_if = {
            limit = {
                any_galcom_member = {
                    species = {
                        NOR = {
                            is_archetype = MACHINE
                            is_archetype = ROBOT
                        }
                    }
                }
            }
            random_galcom_member = {
                limit = {
                    species = {
                        NOR = {
                            is_archetype = MACHINE
                            is_archetype = ROBOT
                        }
                    }
                }
                root = {
                    change_leader_portrait = prev.species
                    set_leader_flag = familiar_face_changed
                }
            }
        }
    }
}

